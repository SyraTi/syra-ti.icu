---
title: 如何区分鼠标滚轮/触控板双指缩放事件
date: 2024-05-29 09:59:42
tags:
  - 前端
  - javascript
  - wheel事件
---

## 前情提要
**鼠标滚轮滚动/触控板双指缩放**都会触发`wheel`事件，在滚轮不需要触发缩放的场景下，需要对两种事件进行区分。

## TL;DR
由触控板`wheel`事件的`ev.ctrlKey`会为`true`，部分特定的实现`ev.metaKey`会为`true`, 所以可以按照下面的代码进行区分：
```javascript
$target.addEventListener('wheel', (ev) => {
  const isTrackpadPinch = ev.ctrlKey || ev.metaKey
  if(isTrackpadPinch){
    console.log('trackpad pinch')
  }
  else{
    console.log('mousewheel')
  }
})
```

## 参考来源

- [How to capture pinch-zoom gestures from the trackpad in a desktop browser (and prevent default)?](https://stackoverflow.com/questions/68808218/how-to-capture-pinch-zoom-gestures-from-the-trackpad-in-a-desktop-browser-and-p)
- [Pinch and wheel difference across browsers](https://github.com/pmndrs/use-gesture/discussions/518)
